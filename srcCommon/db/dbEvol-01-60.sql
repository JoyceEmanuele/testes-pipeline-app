-- $$ --

CREATE TABLE CHILLER_CARRIER_MODELS (
  ID int unsigned NOT NULL AUTO_INCREMENT,
  MODEL_NAME varchar(50) DEFAULT NULL,
  NOMINAL_CAPACITY decimal(6,2) DEFAULT NULL,
  NOMINAL_VOLTAGE INT DEFAULT NULL,
  NOMINAL_FREQUENCY INT DEFAULT NULL,

  PRIMARY KEY (ID)
) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF120386S',	120,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF130386S',	130,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF140386S',	140,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF155386S',	155,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF175386S',	175,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF190386S',	190,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF200386S',	200,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF230386S',	230,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF260386S',	260,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF285386S',	285,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF310386S',	310,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF345386S',	345,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF375386S',	375,	380, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF120226S',	120,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF130226S',	130,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF140226S',	140,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF155226S',	155,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF175226S',	175,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF190226S',	190,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF200226S',	200,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF230226S',	230,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF260226S',	260,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF285226S',	285,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF310226S',	310,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF345226S',	345,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF375226S',	375,	220, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF120446S',	120,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF130446S',	130,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF140446S',	140,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF155446S',	155,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF175446S',	175,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF190446S',	190,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF200446S',	200,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF230446S',	230,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF260446S',	260,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF285446S',	285,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF310446S',	310,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF345446S',	345,	440, 60);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXF375446S',	375,	440, 60);


INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3254',	325,	220, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3252',	325,	380, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3256',	325,	440, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3504',	350,	220, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3502',	350,	380, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB3506',	350,	440, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4004',	400,	220, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4002',	400,	380, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4006',	400,	440, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4504',	450,	220, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4502',	450,	380, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB4506',	450,	440, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB5004',	500,	220, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB5002',	500,	380, NULL);
INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30XAB5006',	500,	440, NULL);


CREATE TABLE CHILLERS (
  ID mediumint unsigned NOT NULL AUTO_INCREMENT,
  ASSET_ID int unsigned NOT NULL,
  MACHINE_ID mediumint unsigned NOT NULL,
  CHILLER_CARRIER_MODEL_ID INT UNSIGNED DEFAULT NULL,

  PRIMARY KEY (ID),
  CONSTRAINT CHILLERS_fk_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES ASSETS (ID),
  CONSTRAINT CHILLERS_fk_MACHINE_ID FOREIGN KEY (MACHINE_ID) REFERENCES MACHINES (ID),
  CONSTRAINT CHILLERS_fk_CHILLER_CARRIER_MODEL_ID FOREIGN KEY (CHILLER_CARRIER_MODEL_ID) REFERENCES CHILLER_CARRIER_MODELS (ID)

) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO VTMACHINETYPES (NAME) VALUES ('Chiller');
CREATE TABLE DRIS_CHILLERS (
  ID mediumint unsigned NOT NULL AUTO_INCREMENT,
  CHILLER_ID mediumint unsigned NOT NULL,
  DRI_DEVICE_ID mediumint unsigned NOT NULL,

  PRIMARY KEY (ID),
  CONSTRAINT DRIS_ASSET_CHILLERS_fk_CHILLER_ID FOREIGN KEY (CHILLER_ID) REFERENCES CHILLERS (ID),
  CONSTRAINT DRIS_ASSET_CHILLERS_fk_DRI_DEVICE_ID FOREIGN KEY (DRI_DEVICE_ID) REFERENCES DRIS_DEVICES (ID)
) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


-- $$ --

CREATE TABLE KRON_MULTK_120_COMMANDS (
  ADDRESS int unsigned NOT NULL,
  ALIAS varchar(30) DEFAULT NULL,
  COMMAND varchar(20) NOT NULL,
  DESCRIPTION varchar(50) NOT NULL,
  FORMULA varchar(50) DEFAULT NULL,
  FUNC_ID tinyint unsigned NOT NULL,
  HAS_SIGNAL char(1) DEFAULT '0',
  ID tinyint unsigned NOT NULL,
  IP varchar(30) DEFAULT NULL,
  R_W varchar(3) NOT NULL,
  SIZE tinyint unsigned NOT NULL,
  SYS_ID tinyint unsigned NOT NULL,
  UNIT varchar(10) DEFAULT NULL,

  PRIMARY KEY (ADDRESS),
  CONSTRAINT KRON_MULTK_120_COMMANDS_uk_ALIAS UNIQUE KEY (ALIAS),
  CONSTRAINT KRON_MULTK_120_COMMANDS_uk_COMMAND UNIQUE KEY (COMMAND)
) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8312, 'demanda', 'CMN28', 'Demanda Ativa Máxima', '-2147483648', 4, 0, 1, NULL, 'R', 2, 1, 'KW');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8302, 'en_at_tri', 'CMN26', 'Energia Ativa', '-2147483648', 4, 0, 1, NULL, 'R', 2, 1, 'KWh');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8304, 'en_re_tri', 'CMN27', 'Energia Reativa', '-2147483648', 4, 0, 1, NULL, 'R', 2, 1, 'KVArh');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8320, 'erro', 'CMN29', 'Código de Erro', '-32768', 4, 0, 1, NULL, 'R', 1, 1, NULL);
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8323, 'fp', 'CMN22', 'Fator de Potência T', '* (1/32767) - (32768*(1/32767))', 4, 0, 1, NULL, 'R', 1, 1, NULL);
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8343, 'fp_a', 'CMN23', 'Fator de Potência 1', '* (1/32767) - (32768*(1/32767))', 4, 0, 1, NULL, 'R', 1, 1, NULL);
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8344, 'fp_b', 'CMN24', 'Fator de Potência 2', '* (1/32767) - (32768*(1/32767))', 4, 0, 1, NULL, 'R', 1, 1, NULL);
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8345, 'fp_c', 'CMN25', 'Fator de Potência 3', '* (1/32767) - (32768*(1/32767))', 4, 0, 1, NULL, 'R', 1, 1, NULL);
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8327, 'freq', 'CMN9', 'Frequência', '* (1/453.0209) - (32768*(1/453.0209))', 4, 0, 1, NULL, 'R', 1, 1, 'Hz');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8331, 'i_a', 'CMN6', 'Corrente I1', '* (1/273.058338) - (32768*(1/273.058338))', 4, 0, 1, NULL, 'R', 1, 1, 'A');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8332, 'i_b', 'CMN7', 'Corrente I2', '* (1/273.058338) - (32768*(1/273.058338))', 4, 0, 1, NULL, 'R', 1, 1, 'A');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8333, 'i_c', 'CMN8', 'Corrente I3', '* (1/273.058338) - (32768*(1/273.058338))', 4, 0, 1, NULL, 'R', 1, 1, 'A');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8340, 'pot_ap_a', 'CMN19', 'Potência Aparente S1', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVA');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8341, 'pot_ap_b', 'CMN20', 'Potência Aparente S2', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVA');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8342, 'pot_ap_c', 'CMN21', 'Potência Aparente S3', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVA');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8324, 'pot_ap_tri', 'CMN18', 'Potência Aparente Total', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVA');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8334, 'pot_at_a', 'CMN10', 'Potência Ativa P1', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KW');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8335, 'pot_at_b', 'CMN12', 'Potência Ativa P2', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KW');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8336, 'pot_at_c', 'CMN13', 'Potência Ativa P3', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KW');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8326, 'pot_at_tri', 'CMN11', 'Potência Ativa Total TP', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KW');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8337, 'pot_re_a', 'CMN15', 'Potência Reativa Q1', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVAr');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8338, 'pot_re_b', 'CMN16', 'Potência Reativa Q2', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVAr');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8339, 'pot_re_c', 'CMN17', 'Potência Reativa Q3', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVAr');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8325, 'pot_re_tri', 'CMN14', 'Potência Reativa Total QT', '* (1/210.200503) - (32768*(1/210.200503))', 4, 0, 1, NULL, 'R', 1, 1, 'KVAr');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8346, 'v_ab', 'CMN0', 'Tensões L1 e L2', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8347, 'v_bc', 'CMN1', 'Tensões L2 e L3', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8348, 'v_ca', 'CMN2', 'Tensões L3 e L1', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8328, 'v_a', 'CMN3', 'Tensão L1 e Neutro', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8329, 'v_b', 'CMN4', 'Tensão L2 e Neutro', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');
INSERT INTO KRON_MULTK_120_COMMANDS (ADDRESS, ALIAS, COMMAND, DESCRIPTION, FORMULA, FUNC_ID, HAS_SIGNAL, ID, IP, R_W, SIZE, SYS_ID, UNIT) VALUES (8330, 'v_c', 'CMN5', 'Tensão L3 e Neutro', '* (1/43.68933) - (32768*(1/43.68933))', 4, 0, 1, NULL, 'R', 1, 1, 'V');

INSERT INTO ENERGY_METER_MODELS (MANUFACTURER_ID, NAME) VALUES (3, 'MULT-K 05');
INSERT INTO ENERGY_METER_MODELS (MANUFACTURER_ID, NAME) VALUES (3, 'MULT-K 120');

-- $$ --

INSERT INTO CHILLER_CARRIER_MODELS (MODEL_NAME, NOMINAL_CAPACITY, NOMINAL_VOLTAGE, NOMINAL_FREQUENCY) VALUES ('30HXE285386SZ',	285,	380, 60);

CREATE TABLE CHILLER_CARRIER_LINES (
  ID int unsigned NOT NULL AUTO_INCREMENT,
  LINE_NAME varchar(50) DEFAULT NULL,
  PRIMARY KEY (ID)
) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

ALTER TABLE CHILLER_CARRIER_MODELS ADD COLUMN CHILLER_CARRIER_LINE_ID int unsigned NOT NULL;
ALTER TABLE CHILLER_CARRIER_MODELS ADD CONSTRAINT CHILLER_CARRIER_LINES_fk_CHILLER_CARRIER_LINE_ID FOREIGN KEY (CHILLER_CARRIER_LINE_ID) REFERENCES CHILLER_CARRIER_LINES (ID);

INSERT INTO CHILLER_CARRIER_LINES (LINE_NAME) VALUES ('30GXE');
INSERT INTO CHILLER_CARRIER_LINES (LINE_NAME) VALUES ('30HXE');
INSERT INTO CHILLER_CARRIER_LINES (LINE_NAME) VALUES ('30HXF');
INSERT INTO CHILLER_CARRIER_LINES (LINE_NAME) VALUES ('30XAB');

UPDATE CHILLER_CARRIER_MODELS ccm
JOIN CHILLER_CARRIER_LINES ccl
ON ccm.MODEL_NAME LIKE CONCAT(ccl.LINE_NAME, '%')
SET ccm.CHILLER_CARRIER_LINE_ID = ccl.id;


CREATE TABLE CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (
  ADDRESS int unsigned NOT NULL,
  R_W varchar(3) NOT NULL,
  ALIAS varchar(30) DEFAULT NULL,
  COMMAND varchar(20) NOT NULL,
  DESCRIPTION varchar(300) NOT NULL,
  DESCRIPTION_EN varchar(300) NOT NULL,
  FORMULA varchar(30) DEFAULT NULL,
  FUNC_ID tinyint unsigned NOT NULL,
  HAS_SIGNAL char(1) DEFAULT '1',
  ID tinyint unsigned NOT NULL DEFAULT 1,
  IP varchar(30) DEFAULT NULL,
  SIZE tinyint unsigned NOT NULL DEFAULT 1,
  SYS_ID tinyint unsigned NOT NULL DEFAULT 1,
  UNIT varchar(10) DEFAULT NULL,

  PRIMARY KEY (ADDRESS,R_W),
  CONSTRAINT CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS_uk_ALIAS UNIQUE KEY (ALIAS),
  CONSTRAINT CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS_uk_COMMAND UNIQUE KEY (COMMAND)
) DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN0', 'DP_A', 'Discharge Pressure',	'Pressão de descarga circuito A', 'kpa', 16384, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN1', 'SP_A', 'Suction Pressure', 'Pressão de Sucção circuito A', 'kpa', 16385, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN2', 'SCT_A', 'Saturated Condensing Tmp','Temperatura saturada do Condensador circuito A',	'°C', 16386, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN3', 'SST_A', 'Saturated Suction Temp', 'Temperatura saturada do Sucção circuito A', '°C', 16387, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN4', 'OP_A', 'Oil Pressure',	'Temperatura Sucção do Compressor circuito A', '°C', 16388, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN5', 'SLT_A', 'Saturated Liquid Temp A', 'Temperatura Liq. Saturada A', '%', 16389, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN6', 'DP_B', 'Discharge Pressure', 'Pressão de descarga circuito B', 'kpa', 16390, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN7', 'SP_B', 'Suction Pressure', 'Pressão de Sucção circuito B', 'kpa', 16391, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN8', 'SCT_B', 'Saturated Condensing Tmp', 'Temperatura saturada do Condensador circuito B', '°C', 16392, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN9', 'SST_B', 'Saturated Suction Temp', 'Temperatura saturada do Sucção circuito B', '°C', 16393, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN10', 'OP_B', 'Oil Pressure', 'Temperatura Sucção do Compressor circuito B', '°C', 16394, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN11', 'SLT_B', 'Saturated Liquid Temp B', 'Temperatura Liq. Saturada B', '%', 16395, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN12', 'STATUS', 'Run Status', 'Status do Chiller',	NULL, 16396, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN13', 'CHIL_S_S', 'CCN Chiller Start/Stop', 'Chiller Ligado / Desligado', NULL, 16397, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN14', 'CHIL_OCC', 'Chiller Occupied?', 'Chiller ocupado?', NULL, 16398, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN15', 'CTRL_TYP', 'Control Type', 'Tipo de controle', NULL, 16399, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN16', 'SLC_HM', 'Selected Heating Mode', 'Modo de Aquecimento Selecionado', NULL, 16400, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN17', 'CAP_T', 'Percent Total Capacity', 'Percentual capacidade Total', '%', 16401, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN18', 'DEM_LIM', 'Active Demand Limit Val', 'Limite de demanda ativado?', NULL, 16402, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN19', 'SP', 'Current Setpoint',	'Setpoint Atual', '°C', 16403, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN20', 'SP_OCC', 'Setpoint Occupied?', 'Setpoint Ocupado?', NULL, 16416, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN21', 'CTRL_PNT', 'Control Point', 'Ponto de controle (setpoint)', '°C', 16417, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN22', 'OAT', 'External Temperature', 'Temperatura externa', '°C', 16419, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN23', 'EMSTOP', 'Emergency Stop', 'Parada de emergência',	'°C', 16420, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN24', 'HR_MACH', 'Machine Operating Hours', 'Horas de operação do equipamento', 'Horas', 16421, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN25', 'COOL_EWT', 'Cooler Entering Fluid', "Temperatura de entrada d'água evaporador", '°C', 16422, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN26', 'COOL_LWT', 'Cooler Leaving Fluid', "Temperatura de saida d'água evaporador", '°C', 16423, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN27', 'COND_EWT', 'Condenser Entering Fluid', "Temperatura de entrada d'água condensador", '°C', 16424, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN28', 'COND_LWT', 'Condenser Leaving Fluid', "Temperatura de saida d'água evaporador", '°C', 16425, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN29', 'HR_MACH_B', 'Machine Operating Hours', 'Horas de operação do equipamento', 'Horas', 16426, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN30', 'HR_CP_A', 'Compressor A Hours', 'Horas de operação do Compressor A', 'Horas', 16427, '/10', 3, 'R');
INSERT INTO CHILLER_CARRIER_30XA_XW_XS_XV_COMMANDS (COMMAND, ALIAS, DESCRIPTION_EN, DESCRIPTION, UNIT, ADDRESS, FORMULA, FUNC_ID, R_W) VALUES ('CMN31', 'HR_CP_B', 'Compressor B Hours', 'Horas de operação do Compressor B', 'Horas',	16428,	'/10', 3, 'R');

-- $$ --

ALTER TABLE DRIS_CHILLERS ADD CONSTRAINT DRIS_CHILLERS_uk_CHILLER_ID UNIQUE (CHILLER_ID);

ALTER TABLE DRIS_CHILLERS ADD CONSTRAINT DRIS_CHILLERS_uk_DRI_DEVICE_ID UNIQUE (DRI_DEVICE_ID);

-- $$ --

ALTER TABLE DASHUSERS ADD TRACKER char(1) DEFAULT 0 NOT NULL;

-- usuários que o Gabriel selecionou: Falar com ele para adicionar/retirar -- 
UPDATE DASHUSERS
SET TRACKER = 1
WHERE EMAIL IN (
    'banastacio@santander.com.br',
    'ariadina.nascimento@santander.com.br',
    'alexandre.medeiros@cea.com.br',
    'fabiano.bizi@cea.com.br',
    'alaor.silva@cea.com.br',
    'romildo.vieceli@cea.com.br',
    'renanrigamonte@bb.com.br',
    'comrad@bb.com.br',
    'julianafortes@bb.com.br',
    'fernanda.moura@cencosud.com.br',
    'arnaldo.vicente@cencosud.com.br',
    'anaflavia.rodrigues@cencosud.com.br',
    'maria.menezesfonseca@cencosud.com.br',
    'myoliveira@mideacarrier.com',
    'luan.brito@grupocasasbahia.com.br',
    'erika.srios@grupocasasbahia.com.br',
    'lucasduarte@drogariaglobo.com.br',
    'weslleysilva@drogariaglobo.com.br',
    'brenolima@drogariaglobo.com.br',
    'josesilva@drogariaglobo.com.br',
    'pedro.vasconcelos@gruposbf.com.br',
    'vitor.guidini@gruposbf.com.br',
    'emerson.junior@gruposbf.com.br',
    'jose.lsantos@gruposbf.com.br',
    'douglas.araujo@farmaciaindiana.com.br',
    'luisa.pego@farmaciaindiana.com.br',
    'giaparecido@leroymerlin.com.br',
    'maugusto@leroymerlin.com.br',
    'sbassanello@leroymerlin.com.br',
    'alexandre.benvenutti@mobly.com.br',
    'awana.camargo@mobly.com.br',
    'ingrid.crusca@petz.com.br',
    'joyce.vieira@petz.com.br',
    'Maryane.crespo@petz.com.br',
    'andre.ortega@petz.com.br'
);